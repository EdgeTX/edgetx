<!doctype html>
<html lang="en-us">
  <style>
    div {
        width: 600px;
        height: 600px;
        margin: auto;
        border: 1px solid black;
        display: block;
    }
    .resizable-content {
        resize: both;
        overflow: auto;
    }
    canvas {
        width: 100%;
        height: 100%;
    }
  </style>
  <body>
    <div id="main-div" class="resizable-content">
      <canvas id="canvas" oncontextmenu="event.preventDefault()" tabindex=-1></canvas>
    </div>
    <script type='text/javascript'>
      var Module = {
          canvas: (() => {
              var canvas = document.getElementById('canvas');
              // As a default initial behavior, pop up an alert when webgl context is lost.
              // To make your application robust, you may want to override this behavior
              // before shipping!
              // See http://www.khronos.org/registry/webgl/specs/latest/1.0/#5.15.2
              canvas.addEventListener("webglcontextlost", (e) => {
                  alert('WebGL context lost. You will need to reload the page.');
                  e.preventDefault();
              }, false);
              return canvas;
          })(),
          onRuntimeInitialized: (() => {
              const divElem = document.getElementById('main-div');
              const canvasElem = document.getElementById('canvas');
              new ResizeObserver(() => {
                  canvasElem.width = divElem.clientWidth + 'px';
                  canvasElem.height = divElem.clientHeight + 'px';
                  window.dispatchEvent(new Event("resize"));
              }).observe(divElem);
          })()
      };
    </script>
    <script async type="text/javascript" src="simu.js"></script>
  </body>
</html>
